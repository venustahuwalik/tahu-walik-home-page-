<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tahu Walik - Login</title>
    <style>
      :root {
        --bg: #000;
        --fg: #fff;
        --border: #fff;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        min-height: 100vh;
        background: #000;
        color: #fff;
        font-family: Arial, Helvetica, sans-serif;
        display: grid;
        place-items: center;
        padding: 12px;
      }
      .card {
        width: min(92vw, 420px);
        border: 2px solid var(--border);
        border-radius: 14px;
        padding: 24px;
        background: #050505;
      }
      .logo-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 16px;
      }
      .logo-bowl {
        width: 94px;
        height: 62px;
        border: 3px solid #fff;
        border-top: none;
        border-bottom-left-radius: 52px;
        border-bottom-right-radius: 52px;
        position: relative;
        margin-top: 10px;
      }
      .logo-bowl::before,
      .logo-bowl::after {
        content: "";
        position: absolute;
        top: -16px;
        width: 34px;
        height: 16px;
        border-top: 3px solid #fff;
        border-left: 3px solid transparent;
        border-right: 3px solid transparent;
        border-radius: 50%;
      }
      .logo-bowl::before { left: 6px; }
      .logo-bowl::after { right: 6px; }
      h1,h2,h3 { margin: 0 0 6px; text-align: center; }
      p.sub { margin: 0 0 16px; text-align: center; color: #d7d7d7; font-size: 14px; }
      .field { display: grid; gap: 6px; margin-bottom: 12px; }
      input {
        padding: 10px 12px;
        border: 1px solid #fff;
        border-radius: 8px;
        background: #000;
        color: #fff;
      }
      button {
        width: 100%;
        margin-top: 8px;
        border: 1px solid #fff;
        border-radius: 8px;
        padding: 10px;
        background: #fff;
        color: #000;
        font-weight: 700;
        cursor: pointer;
      }
      .hidden { display: none; }
      #message { min-height: 20px; font-size: 13px; margin-top: 8px; text-align: center; }

      .home {
        width: min(94vw, 760px);
        height: min(86vh, 620px);
        border: 2px solid #fff;
        border-radius: 14px;
        overflow: hidden;
        display: grid;
        grid-template-rows: 72px 1fr 84px;
      }
      .top-bar,.bottom-bar { background: #000; color: #fff; }
      .top-bar {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
        align-items: center;
        padding: 10px;
        border-bottom: 2px solid #fff;
      }
      .menu-tab { margin: 0; padding: 10px 6px; background: #000; color: #fff; border: 1px solid #fff; border-radius: 8px; }
      .menu-tab.active,.menu-tab:hover { background: #fff; color: #000; }
      .middle-panel { background: #fff; color: #000; padding: 16px; overflow-y: auto; }
      .menu-list { margin: 12px 0 16px; padding: 0; list-style: none; display: grid; gap: 10px; }
      .menu-item {
        border: 1px solid #111;
        border-radius: 8px;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .menu-info { display: grid; gap: 4px; }
      .menu-info small { opacity: 0.8; }
      .add-btn { width: auto; margin: 0; min-width: 90px; }
      .cart-panel { border: 1px solid #000; border-radius: 10px; padding: 10px 12px; }
      .cart-panel h3 { text-align: left; }
      .cart-items { margin: 8px 0 0; padding-left: 20px; }
      .cart-items li { margin-bottom: 4px; }
      #logout { width: auto; min-width: 100px; margin-top: 10px; }

      .bottom-bar {
        border-top: 2px solid #fff;
        display: grid;
        grid-template-columns: 1fr auto;
        align-items: center;
        gap: 12px;
        padding: 10px 14px;
      }
      #order-total { margin: 0; color: #fff; font-weight: 700; }
      .payment-method { display: flex; align-items: center; gap: 10px; color: #fff; font-size: 14px; }
      .payment-method label { display: inline-flex; align-items: center; gap: 4px; }
    </style>
  </head>
  <body>
    <main class="card" id="login-view">
      <div class="logo-wrap">
        <h1>Tahu Walik</h1>
        <div class="logo-bowl" aria-label="logo mangkok mie"></div>
      </div>
      <p class="sub">Masuk dengan username <strong>Venus</strong> dan password key <strong>ayavenus</strong></p>
      <form id="login-form">
        <div class="field">
          <label for="username">Username</label>
          <input id="username" name="username" type="text" placeholder="Masukkan username" required />
        </div>
        <div class="field">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="Masukkan password" required />
        </div>
        <button type="submit">Masuk</button>
        <div id="message" role="status" aria-live="polite"></div>
      </form>
    </main>

    <section id="home-view" class="home hidden">
      <div class="top-bar">
        <button type="button" class="menu-tab active" data-category="makanan">Makanan</button>
        <button type="button" class="menu-tab" data-category="minuman">Minuman</button>
        <button type="button" class="menu-tab" data-category="cemilan">Cemilan</button>
      </div>

      <div class="middle-panel">
        <h2 id="menu-title">Menu Makanan</h2>
        <p id="welcome-text"></p>
        <ul id="menu-list" class="menu-list"></ul>

        <div class="cart-panel">
          <h3>Perhitungan Pembelanjaan</h3>
          <ul id="cart-items" class="cart-items"></ul>
          <button id="logout" type="button">Keluar</button>
        </div>
      </div>

      <div class="bottom-bar">
        <p id="order-total">Total Pesanan: Rp0</p>
        <div class="payment-method">
          <span>Metode:</span>
          <label><input type="radio" name="payment" value="QRIS" checked /> QRIS</label>
          <label><input type="radio" name="payment" value="Cash" /> Cash</label>
        </div>
      </div>
    </section>

    <script>
      const loginView = document.getElementById("login-view");
      const homeView = document.getElementById("home-view");
      const loginForm = document.getElementById("login-form");
      const usernameInput = document.getElementById("username");
      const passwordInput = document.getElementById("password");
      const message = document.getElementById("message");
      const welcomeText = document.getElementById("welcome-text");
      const menuTitle = document.getElementById("menu-title");
      const menuList = document.getElementById("menu-list");
      const menuTabs = document.querySelectorAll(".menu-tab");
      const cartItems = document.getElementById("cart-items");
      const orderTotal = document.getElementById("order-total");
      const paymentMethod = document.querySelectorAll('input[name="payment"]');
      const logoutButton = document.getElementById("logout");

      const VALID_USERNAME = "Venus";
      const VALID_PASSWORD = "ayavenus";

      const menuData = {
        makanan: [
          { name: "Mie Bacot Lv 1-3", price: 11000 },
          { name: "Mie Bacot Lv 4-5", price: 13000 },
        ],
        minuman: [
          { name: "Es Teh", price: 3000 },
          { name: "Es Jeruk", price: 4000 },
          { name: "Matcha Latte", price: 12000 },
        ],
        cemilan: [
          { name: "Tahu Walik Original", price: 10000 },
          { name: "Tahu Walik Chili Oil", price: 12000 },
        ],
      };

      const cart = {};
      let totalPesanan = 0;

      function formatRupiah(amount) {
        return new Intl.NumberFormat("id-ID").format(amount);
      }
      function updateTotal() {
        orderTotal.textContent = `Total Pesanan: Rp${formatRupiah(totalPesanan)}`;
      }
      function resetPayment() {
        paymentMethod.forEach((method, index) => {
          method.checked = index === 0;
        });
      }
      function renderCart() {
        cartItems.innerHTML = "";
        const entries = Object.values(cart);
        if (entries.length === 0) {
          const li = document.createElement("li");
          li.textContent = "Belum ada pesanan.";
          cartItems.appendChild(li);
          return;
        }
        entries.forEach((entry) => {
          const li = document.createElement("li");
          li.textContent = `${entry.name} x${entry.qty} = Rp${formatRupiah(entry.qty * entry.price)}`;
          cartItems.appendChild(li);
        });
      }
      function addToCart(item) {
        if (!cart[item.name]) {
          cart[item.name] = { ...item, qty: 0 };
        }
        cart[item.name].qty += 1;
        totalPesanan += item.price;
        updateTotal();
        renderCart();
      }
      function resetCart() {
        Object.keys(cart).forEach((key) => delete cart[key]);
        totalPesanan = 0;
        updateTotal();
        renderCart();
      }
      function renderMenu(category) {
        const categoryTitle = category.charAt(0).toUpperCase() + category.slice(1);
        menuTitle.textContent = `Menu ${categoryTitle}`;
        menuList.innerHTML = "";
        menuData[category].forEach((item) => {
          const li = document.createElement("li");
          li.className = "menu-item";
          const info = document.createElement("div");
          info.className = "menu-info";
          info.innerHTML = `<strong>${item.name}</strong><small>Rp${formatRupiah(item.price)}</small>`;
          const addButton = document.createElement("button");
          addButton.type = "button";
          addButton.className = "add-btn";
          addButton.textContent = "Tambah";
          addButton.addEventListener("click", () => addToCart(item));
          li.appendChild(info);
          li.appendChild(addButton);
          menuList.appendChild(li);
        });
      }

      menuTabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          menuTabs.forEach((btn) => btn.classList.remove("active"));
          tab.classList.add("active");
          renderMenu(tab.dataset.category);
        });
      });

      loginForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const username = usernameInput.value.trim();
        const password = passwordInput.value.trim();
        if (!username || !password) {
          message.textContent = "Username dan password wajib diisi.";
          return;
        }
        if (username !== VALID_USERNAME || password !== VALID_PASSWORD) {
          message.textContent = "Username atau password salah.";
          return;
        }
        message.textContent = "";
        resetCart();
        resetPayment();
        welcomeText.textContent = `Selamat datang, ${VALID_USERNAME}! Pilih kategori menu di bar atas.`;
        renderMenu("makanan");
        loginView.classList.add("hidden");
        homeView.classList.remove("hidden");
      });

      logoutButton.addEventListener("click", () => {
        usernameInput.value = "";
        passwordInput.value = "";
        welcomeText.textContent = "";
        message.textContent = "";
        resetCart();
        resetPayment();
        menuTabs.forEach((btn) => btn.classList.remove("active"));
        menuTabs[0].classList.add("active");
        homeView.classList.add("hidden");
        loginView.classList.remove("hidden");
      });
    </script>
  </body>
</html>
